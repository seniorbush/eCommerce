<!DOCTYPE html>
{% load static %}

<html>
  <head>
    <meta charset="utf-8" />
    <title>DigiDomus</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/style.css' %}?{% now 'U' %}"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <header class="container">
      <nav class="navbar fixed-top bg-body-tertiary">
        <div class="container">
          <a class="navbar-brand"
            ><i class="bi bi-house"></i>Digi<span>Domus</span></a
          >
          <div class="btn-group">
            <button class="btn">
              <i class="bi bi-bag-plus basket"></i>
            </button>
            <button class="btn"><i class="bi bi-person-fill"></i></button>
          </div>
        </div>
      </nav>
    </header>

    <!-- Go Back -->
    <div class="container go-back">
      <a href="{% url 'index' %}" type="button" class="btn bg-cart m-0">
        <i class="bi bi-caret-left-fill"></i>
      </a>
    </div>

    <!-- Basket Section -->
    <section class="container">
      <table class="table table-hover">
        <thead>
          <tr>
            <th></th>
            <th>Item</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          {% for item in items %}

          <tr>
            <td>
              <img
                src="{{item.product.product_image.url}}"
                alt="product-image"
                class="img-thumbnail"
              />
            </td>
            <td>{{ item.product }}</td>
            <td>£{{ item.product.product_price|floatformat:2 }}</td>
            <td>{{ item.quantity }}</td>
            <td>£{{ item.get_total }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>

    <section class="container basket-main">
      <div class="basket-info">
        <div class="item-total">
          <h6>Items: <strong>{{ order.get_basket_items }}</strong></h6>
        </div>
        <div class="value-total">
          <h6>
            Total:
            <strong>£{{ order.get_basket_total|floatformat:2 }}</strong>
          </h6>
        </div>
        <div class="proceed-to-checkout">
          <a href="{% url 'checkout' %}" class="btn btn-dark">Checkout</a>
        </div>
      </div>

      <!-- <table class="table table-responsive">
        <tr>
          <th scope="col">
            <h6>Items: <strong>{{ order.get_basket_items }}</strong></h6>
          </th>

          <th scope="col">
            <h6>
              Total:
              <strong>£{{ order.get_basket_total|floatformat:2 }}</strong>
            </h6>
          </th>
          <th scope="col">
            <a href="{% url 'checkout' %}" class="btn btn-dark">Checkout</a>
          </th>
        </tr>
      </table> -->
    </section>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
